---
title: js 篇
description: js 篇
date: 2023-04-02
tags:
  - javascript
  - 面试题
---

## 作用域链

> 作用域链本质上是底层的变量查找机制。

### 作用域链查找规则是怎样的？

- 在函数被执行时，会优先在当前函数作用域查找变量
- 如果当前作用域中没有查找到，会依次逐级查找父级作用域知道全局作用域。

## 垃圾回收机制

### 引用计数

> ie 使用的引用计数算法，定义‘内存不在使用’，就是看一个对象是否有指向它的引用，如果没有引用就回收对象。

::: tip
现代浏览器已经不使用引用计数算法了
:::

#### 算法

1. 跟踪记录被引用的次数
2. 如果被引用了一次，那么就记录次数 1,多次引用会累加++
3. 如果减少一个引用就减 1 --
4. 如果引用次数是 0，则释放内存

### 标记清除

> 现代浏览器大多都是基于标记清除算法的改进算法

#### 核心

1. 标记清除算法将“不再使用的对象”定义为“无法达到的对象”。
2. 就是从根部（在 JS 中就是全局对象）出发定时扫描内存中的对象。凡是能从根部到达的对象，都是还需要使用的。
3. 那些无法由根部出发触及到的对象被标记为不再使用，稍后进行回收

## 闭包

### 怎么理解闭包？

> 闭包 = 内层函数 + 外层函数的变量

### 闭包的作用

1. 封闭数据实现私有，外部也可以使用函数内部的变量。
2. 闭包很有用处，他允许将函数与其所操作的某些数据（环境）关联起来。

### 闭包可能导致的问题？

> 内存泄漏
